<app-content-header
  contentTitle="GitHub Repos"
  contentDescription="My public github repositories. Click the 🔍 to see each of my repo's code."
></app-content-header>
<div class="api-description-container">
  <span class="api-description-text">
    Click
    <a
      href="https://christiangracia-api.herokuapp.com/github/all-repos"
      target="_blank"
      rel="noreferrer"
      >here</a
    >
    to see the JSON that is used to render each card below from my back-end
    API</span
  >
</div>
<div
  *ngIf="loadingRepos"
  fxLayout="column"
  fxLayoutAlign="center center"
  class="repo-loader-container"
>
  <mat-spinner></mat-spinner>
</div>
<div
  fxLayout="row wrap"
  fxLayoutAlign="center center"
  class="github-container"
  *ngIf="!loadingRepos"
>
  <mat-card
    *ngFor="let repo of gitRepos"
    fxLayout="column"
    fxLayoutAlign="center"
    class="repo-card mat-elevation-z6"
  >
    <mat-card-title class="repo-title">
      <a (click)="openLink(repo.url)"> {{ repo.name }}</a>
    </mat-card-title>
    <div class="repo-language-container">
      <div>
        <span
          class="repo-language-text"
          [ngStyle]="{ color: formatRepoLanguage(repo.language) }"
          >{{ repo.language }}</span
        >
      </div>
    </div>

    <mat-card-content>
      <span class="repo-description">
        {{ repo.description }}
      </span>
    </mat-card-content>
    <div class="repo-date-container">
      <span class="repo-date-text">
        Last updated at {{ formatUpdateAtDate(repo.updatedAt) }}</span
      >
    </div>
    <!-- <mat-card-content>
      <div
        class="repo-sub-info-container"
        fxLayout="row"
        fxLayoutAlign="space-around"
      >
        <div fxLayout="column" fxLayoutGap="6px">
          <span class="repo-col-header">Primary Language</span>
          <span
            class="repo-language-text"
            [ngStyle]="{ color: formatRepoLanguage(repo.language) }"
            >{{ repo.language }}</span
          >
        </div>
        <div fxLayout="column" fxLayoutGap="10px">
          <span class="repo-col-header">Updated At</span>
          <span class="repo-date-text">{{
            formatUpdateAtDate(repo.updatedAt)
          }}</span>
        </div>
      </div>
    </mat-card-content> -->
    <mat-card-actions>
      <div fxLayoutAlign="center center" style="padding-bottom: 15px">
        <button
          mat-raised-button
          style="width: 70px"
          class="cg-hover-yellow"
          (click)="openRepoCommitModal(repo.name, repo.url)"
          aria-label="view commits"
        >
          <mat-icon svgIcon="search"></mat-icon>
        </button>
      </div>
    </mat-card-actions>
  </mat-card>
</div>
